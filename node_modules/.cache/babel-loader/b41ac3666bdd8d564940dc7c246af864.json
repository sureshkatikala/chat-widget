{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\n// const Index = () => (\n//     <div>\n//       <p>Sample app using React and Next.js</p>\n//     </div>\n//   );\n//   export default Index;\nimport React, { Component } from 'react';\n\nvar Index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n    var storeurl = 'autochatstore.myshopify.com';\n    _this.state = {\n      social: '',\n      whatsapp: false,\n      messenger: false,\n      whatsappContact: '',\n      facebookPage: '',\n      storeurl: storeurl,\n      initialResponseLength: 0\n    };\n    _this.getData = _this.getData.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n\n    _this.getDefaultValues();\n\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"getDefaultValues\",\n    value: function getDefaultValues() {\n      var _this2 = this;\n\n      var data = {\n        storeUrl: this.state.storeurl\n      };\n      return fetch('http://localhost:4000/getstoreowner', {\n        method: 'POST',\n        // or 'PUT'\n        body: _JSON$stringify(data),\n        // data can be `string` or {object}!\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        _this2.setState({\n          initialResponseLength: _Object$keys(response).length\n        });\n\n        console.log(response);\n\n        if (_Object$keys(response).length !== 0) {\n          _this2.setState({\n            whatsappContact: response.storeDetails.whatsappContact,\n            facebookPage: response.storeDetails.facebookPage\n          }); // whatsappNumber = response.storeDetails.whatsappContact;\n          //  fbPageId = response.storeDetails.facebookPage;\n          //  console.log(response);\n\n        }\n      });\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      console.log(event.target);\n      var target = event.target;\n      var value = target.value;\n      var name = target.name;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", null, React.createElement(\"div\", null, React.createElement(\"h1\", {\n        className: \"page-title\"\n      }, \"Get a Free Button for \", this.state.storeurl)), React.createElement(\"div\", null, React.createElement(\"span\", {\n        className: 'icon' + (this.state.whatsapp ? ' whatsapp' : '')\n      }, React.createElement(\"i\", {\n        className: \"fab fa-whatsapp\",\n        id: \"whatsapp\",\n        onClick: this.handleIconClick\n      })), React.createElement(\"span\", {\n        className: 'icon' + (this.state.messenger ? ' messenger' : '')\n      }, React.createElement(\"i\", {\n        className: \"fab fa-facebook-messenger\",\n        id: \"messenger\",\n        onClick: this.handleIconClick\n      }))), React.createElement(\"div\", null, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        class: \"form-horizontal\"\n      }, this.getData(), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Get the ChatWidget\"\n      }))));\n    } // render() {\n    //     return(\n    //         <div> This is sample testing</div>\n    //     )\n    // }\n\n  }]);\n\n  return Index;\n}(React.Component);\n\nexport default Index;","map":{"version":3,"sources":["/home/suresh/webpage-autochat/pages/index.js"],"names":["React","Component","Index","props","storeurl","state","social","whatsapp","messenger","whatsappContact","facebookPage","initialResponseLength","getData","bind","handleInputChange","handleSubmit","getDefaultValues","data","storeUrl","fetch","method","body","headers","then","response","json","setState","length","console","log","storeDetails","event","target","value","name","handleIconClick"],"mappings":"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","sourcesContent":["// const Index = () => (\n//     <div>\n//       <p>Sample app using React and Next.js</p>\n//     </div>\n//   );\n  \n//   export default Index;\n\nimport React, { Component } from 'react';\n\nclass Index extends React.Component {\n    constructor(props) {\n        super(props);\n        let storeurl = 'autochatstore.myshopify.com'\n        this.state = {\n            social: '',\n            whatsapp: false,\n            messenger: false,\n            whatsappContact: '',\n            facebookPage: '',\n            storeurl: storeurl,\n            initialResponseLength: 0,\n        };\n\n        this.getData = this.getData.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    \n        this.getDefaultValues();\n    }\n\n    getDefaultValues(){\n        let data = {storeUrl : this.state.storeurl};\n        return fetch('http://localhost:4000/getstoreowner', {\n         method: 'POST', // or 'PUT'\n         body: JSON.stringify(data), // data can be `string` or {object}!\n         headers:{\n           'Content-Type': 'application/json',\n           'Accept': 'application/json',\n         }\n       })\n        .then(response => response.json())\n        .then(response => {\n          this.setState({initialResponseLength: Object.keys(response).length});\n          console.log(response);\n          if(Object.keys(response).length !== 0) {\n         this.setState({ whatsappContact: response.storeDetails.whatsappContact , facebookPage: response.storeDetails.facebookPage}) // whatsappNumber = response.storeDetails.whatsappContact;\n        //  fbPageId = response.storeDetails.facebookPage;\n        //  console.log(response);\n        }})\n    }\n\n    handleInputChange(event) {\n        console.log(event.target)\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n    \n        this.setState({\n          [name]: value\n        });\n      }\n    \n\n    render() {\n        return (\n          <div>\n            <div>\n              <h1 className='page-title'>Get a Free Button for {this.state.storeurl}</h1>\n            </div>\n            <div>\n              <span className={'icon' + (this.state.whatsapp ? ' whatsapp' : '')}>\n                <i className=\"fab fa-whatsapp\" id='whatsapp' onClick={this.handleIconClick}></i>\n              </span>\n              <span className={'icon' + (this.state.messenger ? ' messenger' : '')}>\n                <i className=\"fab fa-facebook-messenger\" id='messenger' onClick={this.handleIconClick}></i>\n              </span>\n            </div>\n            <div>\n              <form onSubmit={this.handleSubmit} class='form-horizontal'>\n                {this.getData()}\n                <input type=\"submit\" value=\"Get the ChatWidget\" />\n              </form>\n            </div>\n          </div>\n        );\n      }\n\n\n    // render() {\n    //     return(\n    //         <div> This is sample testing</div>\n    //     )\n    // }\n}\n\n  export default Index;\n"]},"metadata":{},"sourceType":"module"}